<!DOCTYPE html>
<html>
<head>
 <meta name="theme-color" content="#eefff4" id="theme-color-meta">
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0 , user-scalable=no">
 <meta property="og:image" content="initial-thumbnail-url.jpg">
 <link rel="preconnect" href="https://fonts.googleapis.com">
 <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
 <link href="https://fonts.googleapis.com/css2?family=Gloock&amp;display=swap" rel="stylesheet">
 <link rel="preconnect" href="https://fonts.googleapis.com">
 <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
 <link href="https://fonts.googleapis.com/css2?family=Fjalla+One&amp;display=swap" rel="stylesheet">
 <link rel="stylesheet" href="css/all.min.css">
 <link rel="stylesheet" href="style.css">
 <title>TATA PLAY WEB</title>
 <link rel="stylesheet" href="css/bootstrap.min.css">
 <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
 <script src="js/enot.min.js"></script>
 <style>
   #container {
     display: flex;
     overflow-x: auto;
     gap: 10px;
   }
   #container img {
     /* width: 200px; */
     height: 100px;
     object-fit: contain;
     border-radius: 8px;
   }
   .slider-arrow {
     cursor: pointer;
     font-size: 24px;
     color: white;
     text-align: center;
     background-color: rgba(10, 9, 8, 0.548);;
     display: flex;
     align-items: center;
     justify-content: center;
     rotate: 30deg;
     margin: auto;

   }
   
 </style>
</head>

<body style="background-color: rgb(0, 61, 32);">

<!-- Nav Menu Start -->
<nav>
  <div class="navbar">
    <i class="bx bx-menu fa fa-bars"></i>
    <div class="logox"><a href="https://crictv.tv">DTV LIVE</a></div>
    <div class="nav-links">
      <!-- Navigation menu content unchanged -->
    </div>

    <div id="dbutton">
      <div>
        <input type="checkbox" class="checkbox" id="checkbox">
        <label for="checkbox" class="checkbox-label">
          <i class="fas fa-moon"></i>
          <i class="fas fa-sun"></i>
          <span class="ball"></span>
        </label>
      </div>
    </div>

    <div class="search-box">
      <i class="bx bx-search fa fa-search"></i>
      <div class="input-box">
        <input type="search" id="searchInput" placeholder="Search...">
      </div>
    </div>
  </div>
</nav>
<!-- Nav Menu End -->

<div style="margin: 12px;">
  <div id="jwplayerDiv" style="margin-bottom: 20px;"></div>
</div>

<!-- Current Playing Section -->
<div style="margin: 12px;" id="current-playing" class="program-info">
  <img class="logo" src="images/Jn2BLen.gif" alt="Channel Logo" id="current-logo">
  <span class="s-n">STREAMING NOW</span>
  <span class="channel-name" id="current-name" style="color: rgb(209, 205, 199);">
    Select a channel to play
  </span>
</div>

<div style="margin: 12px; margin-bottom: ;" id="parent-container">
  <div>
    <h1 class="releted" style="color: white;">Related Channels</h1>
  </div>
  <div id="container"></div>
  <div class="slider-arrow left" onclick="scrollContainer(-200)">&#9664;</div>
  <div class="slider-arrow right" onclick="scrollContainer(200)">&#9654;</div>
</div>

<script>
  // Function to fetch JSON data and populate the container
  async function loadChannels() {
    try {
      const response = await fetch('ch.json'); // Replace with the actual path to ch.json
      const channels = await response.json();

      const container = document.getElementById('container');
      channels.forEach(channel => {
        const channelDiv = document.createElement('div');
        channelDiv.innerHTML = `
          <a href="#" onclick="playChannel('${channel.url}', '${channel.logo}', '${channel.name}')">
            <img src="${channel.logo}" alt="${channel.name}">
          </a>
        `;
        container.appendChild(channelDiv);
      });
    } catch (error) {
      console.error('Error loading channels:', error);
    }
  }

  // Play selected channel in JW Player and update current playing section
  function playChannel(url, logo, name) {
    jwplayer("jwplayerDiv").setup({
      file: url,
      image: logo,
      title: name,
      autostart: true,
      stretching: "exactfit",
      width: "100%",
      height: "100%"
    });
    

    // Update the current playing section
    document.getElementById('current-logo').src = logo;
    document.getElementById('current-name').innerHTML = `${name} - LIVE`;
  }

  // Scroll the container for sliding effect
  function scrollContainer(offset) {
    const container = document.getElementById('container');
    container.scrollBy({ left: offset, behavior: 'smooth' });
  }

  // Load channels on page load
  window.onload = loadChannels;
</script>

<script src="https://content.jwplatform.com/libraries/Z79JsmAO.js"></script>
<script>
  // Existing navbar and menu functionality
</script>

</body>
</html>
